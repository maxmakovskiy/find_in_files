TODO:
- integrate multithreading for processing several files
